# RB185 - Notes

Created: Dec 1, 2020 6:46 PM
Reviewed: No

- How do you connect to a database through ruby?

    You can connect to a database through the use of the pg gem. You first need to instantiate a connection object using the`PG.connect()`method and passing in the name of the database using the `dbname:"database_name"`  argument.

    ```sql
    db = PG.connect(dbname: "films") 
    ```

- How do you send a query to the database through ruby?

    Once you have instantiated a new connection object that is connected to a database, you can call the `.exec` method and pass a string object containing the SQL query to the method. This string object will be interpreted by the database and a `PG::result` object will be returned which will contain the data from the virtual table generated by the query. 

- What do tuples refer to ? What about rows?

    tuples ⇒ hashes

    rows ⇒ arrays

- How do you interact with the data that is returned by a PG::result object?

    A PG::result object has access to various methods which allow us to interact with the data contained within the result. To see the methods available to a PG::result, you need to enter `ls name_of_pg_result_object` and the list of methods will be displayed.  

- If `result` is a PG::result object, what would the method `result.values` do?

    This will return the values contained within each row of the table that the PG::result object is referencing. It will return these values as an array of arrays. 

- In the situation above, what would `result.fields` return?

    This would return the name values of the columns as an array. Each value would be a string object.  

- What does `ntuples` do?

    This method returns the number of rows contained within the pg results object.

- What is the difference between `results.field_values()` and `results.column_values()`?

    Both methods return the the specified column values in from the table. However, `field_values` requires the name of the column, whilst `column_values` requires the index position in the table of the specified column.